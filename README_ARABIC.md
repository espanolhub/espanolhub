# ๐ ูุธุงู ุงูุชุนููู ุงูุฅุณุจุงูู - ุงูุฏููู ุงููุงูู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงููุดุฑูุน ุนุจุงุฑุฉ ุนู ููุตุฉ ุชุนููููุฉ ูุชูุงููุฉ ูุชุนููู ุงููุบุฉ ุงูุฅุณุจุงููุฉ ูุชุญุถูุฑ ุงูุทูุงุจ ูุงูุชุญุงูุงุช:
- ๐ช๐ธ **CCSE** (ุงูุชุญุงู ุงูุฌูุณูุฉ ุงูุฅุณุจุงููุฉ)
- ๐ **DGT** (ุงูุชุญุงู ุฑุฎุตุฉ ุงูููุงุฏุฉ)
- ๐ **ุฏุฑูุณ ุงููุบุฉ ุงูุฅุณุจุงููุฉ**

---

## โจ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### โ ูุง ุชู ุฅุถุงูุชู ุงูุขู:

1. **ูุธุงู ุชุณุฌูู ุงููุณุชุฎุฏููู ุงููุงูู**
   - ุชุณุฌูู ุญุณุงุจ ุฌุฏูุฏ
   - ุชุณุฌูู ุฏุฎูู ุขูู
   - ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
   - ูุตู ุจูู ุงููุณุชุฎุฏููู ุงูุนุงุฏููู ูุงููุณุคูููู

2. **ูุธุงู ุงูุงุดุชุฑุงูุงุช ูุงูุฏูุน**
   - ุฎุทุท ุงุดุชุฑุงู (ุดูุฑู/ุณููู)
   - ุฏุนู PayPal
   - ุฏุนู Stripe
   - ุชูุนูู ุชููุงุฆู ุจุนุฏ ุงูุฏูุน

3. **ููุญุฉ ุชุญูู ูููุณุชุฎุฏููู**
   - ุนุฑุถ ุญุงูุฉ ุงูุงุดุชุฑุงู
   - ูุชุงุจุนุฉ ุงูุชูุฏู ุงูุฏุฑุงุณู
   - ุฅุญุตุงุฆูุงุช ูููุงุท
   - ุดูุงุฏุงุช ุงูุฅูุฌุงุฒ

4. **ููุญุฉ ุชุญูู ูููุณุคูููู**
   - ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
   - ุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงูุงุช
   - ุฅุฏุงุฑุฉ ุงููุญุชูู
   - ุงูุฅุญุตุงุฆูุงุช ูุงูุชูุงุฑูุฑ

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน (ูููุทูุฑูู)

### ุงููุชุทูุจุงุช:
- Node.js 18+
- PostgreSQL (ุฃู ุญุณุงุจ Supabase ูุฌุงูู)
- npm ุฃู yarn

### ุงูุฎุทูุงุช:

```bash
# 1. ุงุณุชูุณุงุฎ ุงููุดุฑูุน
git clone <repository-url>
cd espanol-educativo

# 2. ุชุซุจูุช ุงูุญุฒู
npm install

# 3. ุฅุนุฏุงุฏ ููู ุงูุจูุฆุฉ
cp .env.example .env
# ุซู ุฃุถู DATABASE_URL ูู .env

# 4. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
npm run db:generate
npm run db:migrate
npm run db:seed

# 5. ุชุดุบูู ุงูุณูุฑูุฑ
npm run dev
```

ุงูุชุญ ุงููุชุตูุญ ุนูู: http://localhost:3000

---

## ๐ ุชุณุฌูู ุงูุฏุฎูู ุงูุงูุชุฑุงุถู

### ูููุณุคูููู:
- **ุงูุฑุงุจุท:** http://localhost:3000/login
- **ุงูุจุฑูุฏ:** esconabdou@gmail.com
- **ูููุฉ ุงููุฑูุฑ:** Esconabdou123

### ูููุณุชุฎุฏููู:
- **ุงูุฑุงุจุท:** http://localhost:3000/register
- ุณุฌู ุญุณุงุจ ุฌุฏูุฏ

---

## ๐ ูููู ุงููุดุฑูุน

```
espanol-educativo/
โโโ app/                          # ุตูุญุงุช ุงูุชุทุจูู
โ   โโโ api/                      # ููุงุท API
โ   โ   โโโ auth/                 # ุงููุตุงุฏูุฉ
โ   โ   โ   โโโ login/            # ุชุณุฌูู ุงูุฏุฎูู
โ   โ   โ   โโโ register/         # ุงูุชุณุฌูู (ุฌุฏูุฏ)
โ   โ   โ   โโโ me/               # ูุนูููุงุช ุงููุณุชุฎุฏู
โ   โ   โโโ checkout/             # ุงูุฏูุน
โ   โ   โโโ subscribers/          # ุงูุงุดุชุฑุงูุงุช
โ   โ   โโโ webhooks/             # Webhooks
โ   โโโ admin/                    # ููุญุฉ ุงููุณุคูููู
โ   โโโ dashboard/                # ููุญุฉ ุงููุณุชุฎุฏููู
โ   โโโ login/                    # ุชุณุฌูู ุฏุฎูู ุงููุณุคูููู
โ   โโโ register/                 # ุชุณุฌูู ุงููุณุชุฎุฏููู (ุฌุฏูุฏ)
โ   โโโ user/
โ   โ   โโโ login/                # ุชุณุฌูู ุฏุฎูู ุงููุณุชุฎุฏููู (ุฌุฏูุฏ)
โ   โโโ pricing/                  # ุตูุญุฉ ุงูุฃุณุนุงุฑ
โ   โโโ nacionalidad/             # ุงูุชุญุงู CCSE
โ   โโโ driving-license/          # ุงูุชุญุงู DGT
โ   โโโ ...
โโโ components/                   # ุงูููููุงุช
โ   โโโ SubscriptionButton.tsx    # ุฒุฑ ุงูุงุดุชุฑุงู (ูุญุฏูุซ)
โ   โโโ ...
โโโ lib/                          # ุงูููุชุจุงุช
โ   โโโ auth.ts                   # ูุธุงุฆู ุงููุตุงุฏูุฉ
โ   โโโ admin-users.ts            # ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
โ   โโโ subscribers.ts            # ุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงูุงุช
โ   โโโ ...
โโโ prisma/                       # ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ schema.prisma             # Schema
โ   โโโ seed.ts                   # ุจูุงูุงุช ุงูุชุฑุงุถูุฉ
โโโ data/                         # ุจูุงูุงุช JSON
โ   โโโ admins.json
โ   โโโ subscribers.json
โ   โโโ transactions.json
โโโ ...
```

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู:

#### 1. `users` - ุงููุณุชุฎุฏููู
```sql
- id: UUID
- email: String (unique)
- password: String (hashed)
- username: String (optional)
- role: "user" | "admin"
- createdAt, updatedAt
```

#### 2. `subscriptions` - ุงูุงุดุชุฑุงูุงุช (ูุฌุจ ุฅุถุงูุชู)
```sql
- id: UUID
- userId: UUID (FK -> users)
- planId: String
- status: "active" | "cancelled" | "expired"
- paymentMethod: "paypal" | "stripe"
- currentPeriodEnd: DateTime
- paypalSubscriptionId, stripeSubscriptionId
- createdAt, updatedAt
```

---

## ๐ณ ูุธุงู ุงูุฏูุน

### PayPal:
```env
PAYPAL_BUSINESS_EMAIL=your-email@example.com
```

### Stripe:
```env
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
```

### Webhooks:
```
PayPal:  /api/webhooks/paypal
Stripe:  /api/webhooks/stripe
```

---

## ๐ง ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

ุงูุณุฎ `.env.example` ุฅูู `.env` ูุฃุถู:

```env
# ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุฅูุฒุงูู)
DATABASE_URL="postgresql://..."

# Clerk (ุงุฎุชูุงุฑู - ูุนุทู ุญุงููุงู)
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=
CLERK_SECRET_KEY=

# PayPal (ุงุฎุชูุงุฑู)
PAYPAL_BUSINESS_EMAIL=

# Stripe (ุงุฎุชูุงุฑู)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=
STRIPE_SECRET_KEY=

# ุงููููุน
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
RESEND_API_KEY=
```

---

## ๐ฏ ุงููุณุงุฑุงุช ุงูุฑุฆูุณูุฉ

### ูููุณุชุฎุฏููู:
- `/` - ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- `/register` - ุชุณุฌูู ุญุณุงุจ ุฌุฏูุฏ โจ
- `/user/login` - ุชุณุฌูู ุฏุฎูู โจ
- `/dashboard` - ููุญุฉ ุงูุชุญูู โจ
- `/pricing` - ุงูุฃุณุนุงุฑ ูุงูุงุดุชุฑุงูุงุช
- `/nacionalidad` - ุงูุชุญุงู CCSE
- `/driving-license` - ุงูุชุญุงู DGT
- `/cursos` - ุงูุฏูุฑุงุช
- `/juegos` - ุงูุฃูุนุงุจ ุงูุชุนููููุฉ

### ูููุณุคูููู:
- `/login` - ุชุณุฌูู ุฏุฎูู ุงููุณุคูููู
- `/admin` - ููุญุฉ ุงูุชุญูู
  - `/admin/users` - ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
  - `/admin/subscriptions` - ุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงูุงุช
  - `/admin/content` - ุฅุฏุงุฑุฉ ุงููุญุชูู
  - `/admin/stats` - ุงูุฅุญุตุงุฆูุงุช

### API:
- `/api/auth/register` - ุงูุชุณุฌูู โจ
- `/api/auth/login` - ุชุณุฌูู ุงูุฏุฎูู
- `/api/auth/me` - ูุนูููุงุช ุงููุณุชุฎุฏู ุงูุญุงูู
- `/api/checkout` - ุฅูุดุงุก ุฌูุณุฉ ุฏูุน
- `/api/subscribers/me` - ุงุดุชุฑุงู ุงููุณุชุฎุฏู ุงูุญุงูู

---

## ๐ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### 1. "Credenciales invรกlidas"
**ุงููุดููุฉ:** ูุง ููุฌุฏ ูุณุชุฎุฏู admin ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงูุญู:**
```bash
npm run db:seed
```

### 2. "Database connection failed"
**ุงููุดููุฉ:** DATABASE_URL ุบูุฑ ุตุญูุญ ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุง ุชุนูู

**ุงูุญู:**
- ุชุญูู ูู DATABASE_URL ูู .env
- ุงุณุชุฎุฏู Supabase (ูุฌุงูู): https://supabase.com
- ุงุฎุชุจุฑ ุงูุงุชุตุงู: `npm run db:studio`

### 3. "PayPal not configured"
**ุงููุดููุฉ:** PAYPAL_BUSINESS_EMAIL ุบูุฑ ููุฌูุฏ

**ุงูุญู:**
```bash
# ุฃุถู ูู .env
PAYPAL_BUSINESS_EMAIL=your-email@example.com
```

### 4. ุฒุฑ ุงูุงุดุชุฑุงู ูุนุทู
**ุงููุดููุฉ:** `PAYMENT_DISABLED = true`

**ุงูุญู:**
ูู `app/pricing/page.tsx` ุงูุณุทุฑ 24:
```typescript
const PAYMENT_DISABLED = false;
```

### 5. ุฃุฎุทุงุก TypeScript
**ุงูุญู:**
```bash
npm run build
# ุฃู
npx tsc --noEmit
```

---

## ๐ ุงููุซุงุฆู ุงูุฅุถุงููุฉ

- **`SETUP_GUIDE.md`** - ุฏููู ุงูุฅุนุฏุงุฏ ุงูุดุงูู
- **`PAYMENT_INTEGRATION.md`** - ุชูุงูู ูุธุงู ุงูุฏูุน
- **`SOLUTION_SUMMARY.md`** - ููุฎุต ุงูุญู ุงููุงูู
- **`ุงูุญู_ุงูููุงุฆู.md`** - ุงูุดุฑุญ ุจุงูุนุฑุจูุฉ

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุงูุชุณุฌูู:
1. ุงูุชุญ `/register`
2. ุณุฌู ุญุณุงุจ ุฌุฏูุฏ
3. ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู ุงูุชููุงุฆู
4. ุชุญูู ูู `/dashboard`

### ุงุฎุชุจุงุฑ ุงูุงุดุชุฑุงู:
1. ุณุฌู ุฏุฎูู
2. ุงูุชุญ `/pricing`
3. ุงุถุบุท "Comenzar Ahora"
4. ุชุฃูุฏ ูู ุงูุชูุฌูู ูุตูุญุฉ ุงูุฏูุน

### ุงุฎุชุจุงุฑ ููุญุฉ ุงููุณุคูููู:
1. ุงูุชุญ `/login`
2. ุณุฌู ุฏุฎูู ูู admin
3. ุชุญูู ูู `/admin`
4. ุฌุฑุจ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู

---

## ๐ ุงููุดุฑ (Deployment)

### Vercel (ููุตู ุจู):
```bash
# 1. ุฃูุดุฆ ุญุณุงุจ ุนูู vercel.com
# 2. ุงุฑุจุท Repository
# 3. ุฃุถู Environment Variables ูู Vercel:
#    - DATABASE_URL
#    - PAYPAL_BUSINESS_EMAIL
#    - ููุง ุฅูู ุฐูู...
# 4. Deploy!
```

### Variables ูููุฉ ููุฅูุชุงุฌ:
```env
DATABASE_URL=postgresql://...
NEXT_PUBLIC_APP_URL=https://your-domain.com
NODE_ENV=production
PAYPAL_BUSINESS_EMAIL=live@example.com
```

---

## ๐ค ุงููุณุงููุฉ

ูุฑุญุจ ุจุงููุณุงููุงุช! ููู ูุฑุฌู:
1. Fork ุงููุดุฑูุน
2. ุฃูุดุฆ branch ุฌุฏูุฏ
3. ุงุนูู Commit ููุชุบููุฑุงุช
4. ุงูุชุญ Pull Request

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ุฎุงุต ููุญูู. 

---

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฃุณุฆูุฉ:
- ุฑุงุฌุน ูููุงุช ุงูุชูุซูู
- ุงูุชุญ Issue ุนูู GitHub
- ุชูุงุตู ูุน ุงููุฑูู

---

## โ ูุงุฆูุฉ ุงููุฑุงุฌุนุฉ ุงูููุงุฆูุฉ

### ุงูุชุทููุฑ:
- [x] ูุธุงู ุงูุชุณุฌูู
- [x] ูุธุงู ุชุณุฌูู ุงูุฏุฎูู
- [x] ูุธุงู ุงูุงุดุชุฑุงูุงุช
- [x] ููุญุฉ ุชุญูู ุงููุณุชุฎุฏููู
- [x] ููุญุฉ ุชุญูู ุงููุณุคูููู
- [x] ูุธุงู ุงูุฏูุน (PayPal + Stripe)
- [x] Webhooks
- [ ] ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ
- [ ] ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู

### ุงูุฅูุชุงุฌ:
- [ ] HTTPS ููุนู
- [ ] ูุงุนุฏุฉ ุจูุงูุงุช ูุญููุฉ
- [ ] Backup ููุชุธู
- [ ] Monitoring
- [ ] Error Tracking
- [ ] Analytics
- [ ] Terms & Privacy ูุญุฏุซุฉ

---

**ุชู ุจูุฌุงุญ! ๐**

ุงููุธุงู ุงูุขู ุฌุงูุฒ ุจุงููุงูู ููุงุณุชุฎุฏุงู ูุงูุชุทููุฑ.
